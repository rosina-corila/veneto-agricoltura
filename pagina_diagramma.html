<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mappa Mentale Dinamica NotebookLM</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f4f4f9;
            padding: 30px;
            color: #333;
        }

        /* Contenitore Principale */
        #mindmap {
            list-style: none;
            padding-left: 0;
            margin: 0;
        }

        /* Stile di tutti i Nodi */
        #mindmap li {
            position: relative;
            padding: 10px 0 10px 30px;
            cursor: pointer;
            line-height: 1.4;
        }
        
        /* Stile per i box dei nodi */
        .node-box {
            display: inline-block;
            background-color: #e8eaf6; /* Sfondo del box */
            padding: 5px 10px;
            border-radius: 4px;
            border: 1px solid #c5cae9;
            transition: background-color 0.2s;
            font-size: 14px;
        }

        .node-box:hover {
            background-color: #d1d9ff;
        }

        /* Indicatore di Espansione/Collasso */
        .node-box[data-has-children="true"]::before {
            content: '►'; /* Freccia per nodi collassati */
            position: absolute;
            left: 10px;
            top: 10px;
            color: #3f51b5;
            font-size: 10px;
            transition: transform 0.2s;
            transform: rotate(0deg);
        }
        
        /* Freccia per nodi espansi */
        .node-box.expanded[data-has-children="true"]::before {
            content: '▼';
            transform: rotate(0deg);
        }

        /* Nodi foglia (senza figli) - Stile leggermente diverso (simulando i box verdi) */
        #mindmap li.leaf-node > .node-box {
            background-color: #e0f2f1; 
            border-color: #b2dfdb;
            color: #004d40;
            cursor: default;
        }
        
        #mindmap li.leaf-node > .node-box::before {
            content: ''; /* Rimuove l'indicatore */
        }
        
        /* Linee di Connessione */
        #mindmap li::after {
            content: '';
            position: absolute;
            top: 0;
            left: 14px;
            width: 1px;
            height: 100%;
            background-color: #ccc;
            z-index: 0;
        }
        
        /* Linee orizzontali */
        #mindmap li::before {
            content: '';
            position: absolute;
            top: 20px;
            left: 14px;
            width: 16px; 
            height: 1px;
            background-color: #ccc;
            z-index: 0;
        }

        /* Rimuove la linea superiore dal nodo radice */
        #mindmap > li::after {
            height: calc(100% - 20px); 
            top: 20px;
        }
        
        #mindmap > li::before {
            content: none; /* Rimuove la linea orizzontale dal nodo radice */
        }

        /* Stile per i sotto-livelli (i figli) */
        #mindmap ul {
            list-style: none;
            padding-left: 0;
            margin: 0;
            /* Inizialmente nascosto */
            display: none; 
            position: relative;
        }

        /* Nodi espansi */
        .expanded + ul {
            display: block;
        }
        
        /* Assicuriamo che il box sia sopra le linee */
        .node-box {
            position: relative;
            z-index: 1;
        }
        
        /* Colore specifico per il nodo radice (simulando il box principale) */
        #mindmap > li > .node-box {
            background-color: #3f51b5;
            color: white;
            border-color: #303f9f;
            font-size: 16px;
            padding: 8px 15px;
        }
        
        #mindmap > li:last-child::after {
            /* Per il nodo principale, riduciamo l'altezza della linea verticale per fermarla sotto l'ultimo figlio visibile */
            height: 20px;
        }
    </style>
</head>
<body>

    <ul id="mindmap"></ul>

    <script>
        // Dati della Mappa Mentale (Trascrizione strutturata)
        const mindMapData = [
          {
            name: "NotebookLM: Strumento AI per Ricerca e Appunti di Google",
            children: [
              {
                name: "Funzionalità Principali",
                children: [
                  {
                    name: "AI Consapevole del Contesto",
                    children: ["Domande e Risposte (Q&A)", "Riassunto (Summarization)", "Generazione di Idee (Brainstorming)", "Creazione/Bozza di Contenuti"],
                  },
                  {
                    name: "Ancoraggio alla Fonte (Source Grounding)",
                    children: ["Usa solo le tue fonti caricate", "Afferma di prevenire le allucinazioni", "Citazione e Collegamento alla Fonte"],
                  },
                  {
                    name: "Gestione Documenti",
                    children: ["Carica tipi di documento multipli (.pdf, .txt, Docs)", "Indicizzazione Automatica", "Supporta fino a 50 documenti per Notebook", "Organizzato in 'Notebooks'"],
                  },
                ],
              },
              {
                name: "Casi d'Uso Chiave",
                children: [
                  {
                    name: "Per Ricerca e Scrittura",
                    children: [
                      {
                        name: "Studenti e Accademici",
                        children: ["Revisioni Letterarie, Tesi, Tesine", "Consolidamento Appunti e Guide di Studio", "Estrazione di argomenti chiave"],
                      },
                      {
                        name: "Professionisti e Creativi",
                        children: ["Analisi di Rapporti/Documenti Legali", "Bozza di Contenuti Marketing/Creativi", "Giornalismo e Fact-Checking"],
                      },
                    ],
                  },
                ],
              },
              {
                name: "Vantaggi e Benefici",
                children: [
                  {
                    name: "Aumento della Produttività",
                    children: ["Sintesi più rapida delle informazioni", "Riduzione del tempo per la presa di appunti manuale"],
                  },
                  {
                    name: "Comprensione Migliorata",
                    children: ["Identificazione di connessioni e temi", "Riassunti contestualizzati"],
                  },
                ],
              },
              {
                name: "Tecnologia Sottostante",
                children: [
                  {
                    name: "Modello AI",
                    children: ["Gemini (o PaLM 2)"],
                  },
                  {
                    name: "Sicurezza e Privacy",
                    children: ["Le fonti caricate rimangono private"],
                  },
                ],
              },
            ],
          },
        ];

        // Funzione ricorsiva per costruire la struttura HTML
        function buildTree(data, parentElement) {
            data.forEach(item => {
                const li = document.createElement('li');
                
                const childrenArray = Array.isArray(item.children) ? item.children : [];
                const hasChildren = childrenArray.length > 0;
                
                // Creiamo il box del nodo (l'elemento cliccabile)
                const nodeBox = document.createElement('span');
                nodeBox.className = 'node-box';
                nodeBox.textContent = item.name || item; // item può essere una stringa semplice
                nodeBox.setAttribute('data-has-children', hasChildren);
                
                li.appendChild(nodeBox);

                if (!hasChildren) {
                    li.classList.add('leaf-node');
                }

                if (hasChildren) {
                    const ul = document.createElement('ul');
                    // Inizializza i nodi principali come espansi per visualizzare il primo livello
                    if (parentElement.id === 'mindmap') {
                         nodeBox.classList.add('expanded');
                         ul.style.display = 'block';
                    }
                    
                    // Aggiunge l'evento click
                    nodeBox.addEventListener('click', function(event) {
                        // Impedisce al click di propagarsi ai nodi superiori
                        event.stopPropagation(); 
                        
                        // Toggle della classe 'expanded' sul box
                        this.classList.toggle('expanded');
                        
                        // Toggle della visibilità dell'elenco figlio (ul)
                        const childUl = this.nextElementSibling;
                        if (childUl && childUl.tagName === 'UL') {
                            childUl.style.display = childUl.style.display === 'block' ? 'none' : 'block';
                        }
                    });

                    // Costruisce i figli ricorsivamente
                    buildTree(childrenArray, ul);
                    li.appendChild(ul);
                }

                parentElement.appendChild(li);
            });
        }

        // Avvia la costruzione dell'albero al caricamento della pagina
        document.addEventListener('DOMContentLoaded', () => {
            const mindmapContainer = document.getElementById('mindmap');
            buildTree(mindMapData, mindmapContainer);
        });
    </script>
</body>
</html>
